import 'package:easy_localization/easy_localization.dart';import 'package:flutter/cupertino.dart';import 'package:flutter/material.dart';import 'package:gcglobal/HomePage/GCQuickFunctionPageView/GCFunctionItemView.dart';import 'GCFunctionModel.dart';class GCQuickFunctionPageView extends StatefulWidget{  List<GCFunctionModel> selfunctionList = [];  List<GCFunctionItemView> itemList = [];  List<GCFunctionModel> removefunctionList = [];  GCQuickFunctionPageView():super();  @override  State<StatefulWidget> createState() {    // TODO: implement createState    return GCQuickFunctionState();  }  }enum DraggingMode{  iOS,  Android}class GCQuickFunctionState extends State<GCQuickFunctionPageView>{  @override  void initState() {    // TODO: implement initState    super.initState();    widget.selfunctionList = [      new GCFunctionModel(functionName: "新增客戶",functionIcon: "assets/homepage/xinzengkehu/icon_xinzengkehu@2x.png"),      new GCFunctionModel(functionName: "新增行程",functionIcon: "assets/homepage/add_xingcheng/icon_xinzengxingcheng@2x.png"),      new GCFunctionModel(functionName: "生成發票",functionIcon: "assets/homepage/fapiao/icon_shengchengfapiao@2x.png"),      new GCFunctionModel(functionName: "房貸計算",functionIcon: "assets/homepage/jisuanqi/icon_jisuanqi@2x.png"),    ];    print(widget.itemList);    widget.removefunctionList = [ new GCFunctionModel(functionName: "新增客戶",functionIcon: "assets/homepage/xinzengkehu/icon_xinzengkehu@2x.png"),      new GCFunctionModel(functionName: "新增行程",functionIcon: "assets/homepage/add_xingcheng/icon_xinzengxingcheng@2x.png"),      new GCFunctionModel(functionName: "生成發票",functionIcon: "assets/homepage/fapiao/icon_shengchengfapiao@2x.png"),      new GCFunctionModel(functionName: "房貸計算",functionIcon: "assets/homepage/jisuanqi/icon_jisuanqi@2x.png"),];  }  @override  Widget build(BuildContext context) {    // TODO: implement build    return Scaffold(      appBar: PreferredSize(          preferredSize: Size(MediaQuery.of(context).size.width,45),          child:Container(            child: AppBar(                backgroundColor: Colors.transparent,                elevation: 0,                centerTitle: true,                title: Text(tr("快捷功能圖標排列"),                  style: TextStyle(fontSize: 18,),                ),                leading: IconButton(                  icon: Icon(Icons.arrow_back_ios_outlined),                  onPressed: (){                    Navigator.of(context).pop();                  },                ),                actions: [                  TextButton(onPressed: (){                    setState(() {                    });                  }, child: Text(                    tr("完成"),                    style: TextStyle(                        color: Colors.white,                        fontSize: 14                    ),                  )                  )                ]            ),            decoration: BoxDecoration(                image: DecorationImage(                    image: ExactAssetImage("assets/iOSNavBar/daohanglan.png"),                    fit: BoxFit.cover                )            ),          )),      body:Container(        width: MediaQuery.of(context).size.width,        color: Color(0xFFF4F4F4),        child: Column(          children: [            Container(              margin: EdgeInsets.only(left: 15,top: 20,bottom:10 ),              alignment: Alignment.centerLeft,              child: Text(                tr("顯示功能"),                style: TextStyle(                    color: Color(0xFF333333),                    fontSize: 16,                    fontWeight: FontWeight.w500                ),              ),            ),            Container(              height: widget.selfunctionList.length*48.0,              child:ReorderableListView.builder(itemBuilder: (BuildContext context,int index){                GCFunctionModel model = widget.selfunctionList[index];               return GCFunctionItemView(key:ObjectKey(model), functionName: model.functionName,functionIcon: model.functionIcon,showMoveIcon: true,deleteCallBack: (){                  setState(() {                    widget.selfunctionList.removeAt(index);                  });                },);              }, itemCount:widget.selfunctionList.length , onReorder:(int oldIndex,int newIndex){                setState(() {                  if (oldIndex < newIndex) {                    newIndex -= 1;                  }                  var temp = widget.selfunctionList.removeAt(oldIndex);                  widget.selfunctionList.insert(newIndex, temp);                });              },physics: NeverScrollableScrollPhysics(),),),            Container(              margin: EdgeInsets.only(left: 15,top: 20,bottom:10 ),              alignment: Alignment.centerLeft,              child: Text(                tr("更多功能"),                style: TextStyle(                    color: Color(0xFF333333),                    fontSize: 16,                    fontWeight: FontWeight.w500                ),              ),            ),            Container(              height: widget.removefunctionList.length*48.0,              child: ListView.builder(                  shrinkWrap: true,                  physics: NeverScrollableScrollPhysics(),                  itemCount: widget.removefunctionList.length,                  itemBuilder: (context,index){                    GCFunctionModel model = widget.removefunctionList[index];                    return GCFunctionItemView(key:ObjectKey(model), functionName: model.functionName,functionIcon: model.functionIcon,showMoveIcon: false);                  }              ),            ),            Expanded(child: Container(              margin: EdgeInsets.only(left: 15,right: 15,top: 20),              child: Text(                tr("你可以點擊“減號移除和加號添加”來增加或移除首頁快捷功能圖標，最多只能顯示4個，然後可以通過長按橫線後拖動快捷功能圖標來確認與排列首頁的快捷功能圖標，排列順序係由上至下的順序排列。"),                style: TextStyle(                  color: Color(0xFF3333333),                  fontSize: 12,                ),              ),            ))          ],        ),      ),    );  }  }