import 'package:easy_localization/easy_localization.dart';import 'package:flutter/cupertino.dart';import 'package:flutter/material.dart';// ignore: must_be_immutableclass GCEditNamePageView extends StatefulWidget{  String name = "";  GCEditNamePageView({required this.name}):super();  @override  State<StatefulWidget> createState() {    // TODO: implement createState    return GCEditNameState();  }  }class GCEditNameState extends State<GCEditNamePageView>{  TextEditingController? _textEditingController ;  bool showClear = true;  @override  void initState() {    // TODO: implement initState    super.initState();    _textEditingController = new TextEditingController();    _textEditingController!.text = widget.name;    _textEditingController!.addListener(() {      if(_textEditingController!.text.length > 0 ){          showClear = true;      }else{        showClear = false;      }      setState(() {});    });  }  @override  Widget build(BuildContext context) {    // TODO: implement build    return Scaffold(      appBar: PreferredSize(          preferredSize: Size(MediaQuery.of(context).size.width,45),          child:Container(            child: AppBar(              backgroundColor: Colors.transparent,              elevation: 0,              centerTitle: true,              title: Text(tr("用戶名設置"),                style: TextStyle(fontSize: 18,),              ),              leading: IconButton(                icon: Icon(Icons.arrow_back_ios_outlined),                onPressed: (){                  Navigator.of(context).pop();                },              ),              actions: [                TextButton(onPressed: (){}, child: Text(                  tr("保存"),                  style: TextStyle(                    color: Colors.white,                    fontSize: 14                  ),                ))              ]            ),            decoration: BoxDecoration(                image: DecorationImage(                    image: ExactAssetImage("assets/iOSNavBar/daohanglan.png"),                    fit: BoxFit.cover                )            ),          )),      body: Container(        height: MediaQuery.of(context).size.height,        color: Color(0xFFF4F4F4),        child: Column(          children: [            Container(              height: 60,              color:Color(0xFFD90201),              child: Container(                margin: EdgeInsets.only(left: 15,right: 15,top: 10,bottom: 10),                child: TextFormField(                  controller: _textEditingController,                  decoration: InputDecoration(                      hintText: tr("請輸入用戶名"),                      filled: true,                      fillColor: Colors.white,                      border: InputBorder.none,                      suffixIcon: GestureDetector(                        child: showClear?Container(                          height: 16, width: 16,                          margin: EdgeInsets.only(top: 12,bottom: 12,right: 10),                          decoration: BoxDecoration(                            image: DecorationImage(                                image:AssetImage("assets/homepage/delete/icon_shanchu@2x.png"),                                fit:BoxFit.contain                            ),                          ),                        ):Container(                          height: 16, width: 16,                          margin: EdgeInsets.only(top: 12,bottom: 12,right: 10),                        ),                        onTap: (){                          setState(() {                            _textEditingController!.text = "";                          });                        },                      )                  ),                ),              ),            ),            Expanded(                child:Container(                  color: Color(0xFFF4F4F4),                )            ),          ],        )      ),    );  }  }